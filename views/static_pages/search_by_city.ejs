<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search by City | TaiwanMe</title>
    <link rel="icon" href="/image/logo.png" type="image/png">
    
    <link rel="stylesheet" href="/style.css">

    <style>
        /* ========================================= */
        /* âœ… 1. å…¨å±€èƒŒæ™¯è¨­å®š (æ ¼å­ç­†è¨˜æœ¬é¢¨æ ¼) */
        /* ========================================= */
        body {
            /* âš ï¸ ç§»é™¤ font-family è¨­å®šï¼Œé¿å…å½±éŸ¿å°è¦½åˆ— */
            color: #333;
            overflow-x: hidden;
            background-color: #fdfdfd;
            
            /* æ·ºç°è‰²ç´°ç·»æ ¼ç·š */
            background-image: 
                linear-gradient(#e0e0e0 1px, transparent 1px),
                linear-gradient(90deg, #e0e0e0 1px, transparent 1px);
            background-size: 20px 20px;
            background-position: center top;
            margin: 0;
        }

        /* ========================================= */
        /* âœ… 2. é ‚éƒ¨å€åŸŸ (æ·±è‰²èƒŒæ™¯ + åˆ†éš”ç·š) */
        /* ========================================= */
        .top-section-wrapper {
            background-color: #2c3e50; /* âœ… æ”¹ç‚ºæ·±è—è‰²èƒŒæ™¯ */
            width: 100%;
            text-align: center;
            border-bottom: 3px solid #333; /* ä¸‹æ–¹æ©«ç·šä¿ç•™ */
            
            /* èª¿æ•´å…§è·è®“æ¨™é¡Œå‚ç›´ç½®ä¸­ä¸”æœ‰å‘¼å¸æ„Ÿ */
            padding-top: 40px; 
            padding-bottom: 50px; 
            margin-bottom: 70px; 
            
            position: relative;
            z-index: 10;
        }

        /* âœ… ä¸»æ¨™é¡Œæ¨£å¼ (æ”¹ç‚ºç´”æ–‡å­—ï¼Œç§»é™¤è²¼ç´™æ¡†) */
        .page-main-title {
            display: inline-block;
            color: #fff; /* ç™½è‰²æ–‡å­— */
            font-size: 3rem; /* å­—é«”æ”¾å¤§ï¼Œæ¥è¿‘æ‚¨æä¾›çš„åœ–ç‰‡ */
            font-family: serif;
            letter-spacing: 3px;
            font-weight: 800;
            margin: 0;
            text-transform: uppercase;
            
            /* ç§»é™¤åŸæœ¬çš„è²¼ç´™æ•ˆæœ (é‚Šæ¡†ã€æ—‹è½‰ã€é™°å½±) */
            background-color: transparent;
            border: none;
            box-shadow: none;
            transform: none;
        }

        /* ========================================= */
        /* âœ… 3. å€åŸŸåˆ—è¡¨ä½ˆå±€ (é›†ä¸­åŒ–) */
        /* ========================================= */
        .region-list-container {
            max-width: 750px; /* ç¸®çª„å¯¬åº¦ï¼Œè®“å…§å®¹æ›´é›†ä¸­ */
            margin: 0 auto 100px; /* åº•éƒ¨ç•™ç™½ */
            padding: 0 20px;
            display: flex;
            flex-direction: column;
            gap: 60px; /* å€å¡Šé–“è· */
        }

        .region-section {
            display: flex;
            flex-direction: column;
            align-items: center; /* è®“æ¨™é¡Œèˆ‡å…§å®¹ç½®ä¸­å°é½Š */
        }

        /* åˆ†å€æ¨™é¡Œ (æ”¾å¤§ã€ç½®ä¸­) */
        .region-title {
            font-family: serif;
            font-size: 2rem;
            font-weight: 800;
            color: #222;
            margin-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: 2px;
            position: relative;
            display: inline-block;
            background-color: #fdfdfd; /* è“‹ä½èƒŒæ™¯æ ¼ç·šï¼Œè®“æ–‡å­—æ¸…æ™° */
            padding: 0 15px;
            z-index: 1;
        }
        
        /* æ¨™é¡Œå…©å´çš„è£é£¾ç·š */
        .region-title::before,
        .region-title::after {
            content: '';
            display: inline-block;
            width: 30px;
            height: 3px;
            background-color: #E8A2A2;
            vertical-align: middle;
            margin: 0 15px;
        }

        /* ========================================= */
        /* âœ… 4. æ‰‹ç¹ªé¢¨æ ¼æ¡†ç·š (å…§å®¹å€åŸŸ) */
        /* ========================================= */
        .city-group-frame {
            background: #fff;
            padding: 35px 40px; /* å¢åŠ å…§è· */
            border: 3px solid #333; /* åŠ ç²—é‚Šæ¡† */
            /* ä¸è¦å‰‡åœ“è§’ï¼Œæ¨¡æ“¬æ‰‹ç¹ªåœˆé¸ */
            border-radius: 255px 15px 225px 15px / 15px 225px 15px 255px;
            box-shadow: 8px 8px 0px rgba(0,0,0,0.08); /* å¢åŠ é™°å½±ç«‹é«”æ„Ÿ */
            display: flex;
            flex-wrap: wrap;
            gap: 18px; /* å¢åŠ æŒ‰éˆ•é–“è· */
            align-items: center;
            justify-content: center;
            position: relative;
            width: 100%;
            box-sizing: border-box;
        }

        /* é›¢å³¶åˆ†éš”ç·š */
        .island-separator {
            width: 100%;
            text-align: center;
            margin: 30px 0;
            position: relative;
        }
        .separator-label {
            background: #fdfdfd;
            padding: 5px 20px;
            color: #666;
            font-size: 1rem;
            font-weight: bold;
            font-family: serif;
            border: 1px solid #ccc;
            border-radius: 20px;
            position: relative;
            z-index: 2;
        }
        .island-separator::before {
            content: '';
            position: absolute;
            top: 50%; left: 10%; right: 10%;
            border-top: 2px dashed #ccc; /* åŠ ç²—è™›ç·š */
            z-index: 1;
        }

        /* æŒ‰éˆ•æ¨£å¼ (æ”¾å¤§ã€åŠ ç²—) */
        .city-btn {
            display: inline-block;
            padding: 10px 22px; /* æŒ‰éˆ•è®Šå¤§ */
            border: 2px solid #333; /* é‚Šæ¡†åŠ ç²— */
            border-radius: 8px; /* æ–¹å½¢åœ“è§’ */
            text-decoration: none;
            color: #333;
            background: #fff;
            font-size: 1.15rem; /* å­—é«”æ”¾å¤§ */
            font-weight: 600; /* å­—é«”åŠ ç²— */
            transition: all 0.2s;
            box-shadow: 2px 2px 0px rgba(0,0,0,0.1);
        }
        .city-btn:hover {
            background: #333;
            color: #fff;
            transform: translateY(-2px);
            box-shadow: 4px 4px 0px rgba(0,0,0,0.2);
        }

        /* ========================================= */
        /* âœ… 5. é‡‘é¦¬ Fun Fact æ¨£å¼ */
        /* ========================================= */
        .kinmen-matsu-wrapper {
            position: relative;
            display: inline-flex;
            gap: 18px;
            margin: 0 10px;
            vertical-align: middle;
        }

        .highlight-box {
            position: absolute;
            top: -12px; bottom: -12px;
            left: -15px; right: -15px;
            border: 3px solid #E8A2A2; /* åŠ ç²—ç´…æ¡† */
            border-radius: 50px;
            pointer-events: none;
            animation: pulse-border 2s infinite;
        }

        .dashed-pointer {
            position: absolute;
            top: 50%;
            right: -80px; /* å»¶é•·è™›ç·š */
            width: 80px;
            height: 3px; /* åŠ ç²—è™›ç·š */
            background-image: linear-gradient(to right, #E8A2A2 50%, transparent 50%);
            background-size: 12px 100%;
            transform: translateY(-50%);
        }

        .fun-fact-trigger {
            position: absolute;
            top: 50%;
            right: -195px; /* èª¿æ•´æŒ‰éˆ•ä½ç½® */
            transform: translateY(-50%);
            background-color: #E8A2A2;
            color: white;
            padding: 6px 18px;
            border-radius: 30px;
            font-size: 0.95rem;
            font-weight: bold;
            font-family: serif;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(232, 162, 162, 0.4);
            transition: all 0.3s ease;
            white-space: nowrap;
            z-index: 10;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        .fun-fact-trigger:hover {
            background-color: #d68b8b;
            transform: translateY(-53%) scale(1.05);
        }

        @media (max-width: 768px) {
            .region-list-container { padding: 0 15px; }
            .city-group-frame { padding: 25px 15px; gap: 10px; }
            .city-btn { font-size: 1rem; padding: 8px 16px; }
            
            .kinmen-matsu-wrapper {
                display: inline-flex;
                flex-wrap: wrap;
                justify-content: center;
                margin-bottom: 50px;
            }
            .dashed-pointer { display: none; }
            .fun-fact-trigger {
                top: auto; 
                bottom: -45px;
                right: auto;
                left: 50%;
                transform: translateX(-50%);
            }
        }

        @keyframes pulse-border {
            0% { box-shadow: 0 0 0 0 rgba(232, 162, 162, 0.4); }
            70% { box-shadow: 0 0 0 8px rgba(232, 162, 162, 0); }
            100% { box-shadow: 0 0 0 0 rgba(232, 162, 162, 0); }
        }

        /* ========================================= */
        /* Modal å½ˆå‡ºè¦–çª—æ¨£å¼ (ä¿æŒä¸è®Š) */
        /* ========================================= */
        .fact-modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.85); z-index: 10002; justify-content: center; align-items: center; opacity: 0; transition: opacity 0.3s ease; backdrop-filter: blur(5px); }
        .fact-modal.show { opacity: 1; }
        .fact-card { background: #fff; width: 90%; max-width: 700px; max-height: 85vh; border-radius: 4px; padding: 50px; position: relative; overflow-y: auto; box-shadow: 0 25px 50px rgba(0,0,0,0.5); transform: translateY(20px); transition: transform 0.3s ease; }
        .fact-modal.show .fact-card { transform: translateY(0); }
        .fact-close { position: absolute; top: 20px; right: 25px; font-size: 2.5rem; color: #ccc; cursor: pointer; line-height: 1; transition: color 0.2s; }
        .fact-close:hover { color: #333; }
        .fact-header { border-bottom: 1px solid #eee; padding-bottom: 20px; margin-bottom: 30px; }
        .fact-tag { color: #E8A2A2; font-size: 0.9rem; text-transform: uppercase; letter-spacing: 2px; font-weight: bold; display: block; margin-bottom: 10px; }
        .fact-title { font-family: serif; font-size: 2rem; color: #333; line-height: 1.2; margin: 0; }
        .fact-body h3 { font-size: 1.3rem; margin-top: 40px; margin-bottom: 15px; color: #333; font-weight: bold; font-family: serif; }
        .fact-body p { font-size: 1.05rem; line-height: 1.8; color: #555; margin-bottom: 20px; text-align: justify; }
        .fact-highlight { border-left: 4px solid #E8A2A2; padding-left: 20px; margin: 30px 0; font-family: serif; font-style: italic; font-size: 1.2rem; color: #444; line-height: 1.6; }
        @media (max-width: 600px) { .fact-card { padding: 30px 20px; } .fact-title { font-size: 1.6rem; } }
    </style>
</head>
<body>

    <div class="top-section-wrapper">
        <%- include('../partials/header') %>
        <h1 class="page-main-title">Search By Region</h1>
    </div>

    <section class="region-list-container">
        
        <div class="region-section">
            <div class="region-title">NORTH</div>
            <div class="city-group-frame">
                <a href="/search_by_city/taipei" class="city-btn">Taipei (å°åŒ—)</a>
                <a href="/search_by_city/new_taipei" class="city-btn">New Taipei (æ–°åŒ—)</a>
                <a href="/search_by_city/keelung" class="city-btn">Keelung (åŸºéš†)</a>
                <a href="/search_by_city/taoyuan" class="city-btn">Taoyuan (æ¡ƒåœ’)</a>
                <a href="/search_by_city/hsinchu" class="city-btn">Hsinchu (æ–°ç«¹)</a>
                <a href="/search_by_city/yilan" class="city-btn">Yilan (å®œè˜­)</a>
            </div>
        </div>

        <div class="region-section">
            <div class="region-title">CENTRAL</div>
            <div class="city-group-frame">
                <a href="/search_by_city/miaoli" class="city-btn">Miaoli (è‹—æ —)</a>
                <a href="/search_by_city/taichung" class="city-btn">Taichung (å°ä¸­)</a>
                <a href="/search_by_city/changhua" class="city-btn">Changhua (å½°åŒ–)</a>
                <a href="/search_by_city/nantou" class="city-btn">Nantou (å—æŠ•)</a>
                <a href="/search_by_city/yunlin" class="city-btn">Yunlin (é›²æ—)</a>
            </div>
        </div>

        <div class="region-section">
            <div class="region-title">SOUTH</div>
            <div class="city-group-frame">
                <a href="/search_by_city/chiayi" class="city-btn">Chiayi (å˜‰ç¾©)</a>
                <a href="/search_by_city/tainan" class="city-btn">Tainan (å°å—)</a>
                <a href="/search_by_city/kaohsiung" class="city-btn">Kaohsiung (é«˜é›„)</a>
                <a href="/search_by_city/pingtung" class="city-btn">Pingtung (å±æ±)</a>
            </div>
        </div>

        <div class="region-section">
            <div class="region-title">EAST</div>
            <div class="city-group-frame">
                <a href="/search_by_city/hualien" class="city-btn">Hualien (èŠ±è“®)</a>
                <a href="/search_by_city/taitung" class="city-btn">Taitung (å°æ±)</a>
            </div>
        </div>

        <div class="region-section">
            <div class="region-title">OUTLYING ISLANDS</div>
            
            <div class="city-group-frame" style="flex-direction: column; gap: 20px;">
                
                <div style="display:flex; flex-wrap:wrap; gap:15px; justify-content:center; align-items:center;">
                    <a href="/search_by_city/penghu" class="city-btn">Penghu (æ¾æ¹–)</a>
                    
                    <div class="kinmen-matsu-wrapper">
                        <div class="highlight-box"></div> <div class="dashed-pointer"></div> <div class="fun-fact-trigger" id="openFactBtn">ğŸ’¡ Fun Fact</div> <a href="/search_by_city/kinmen" class="city-btn">Kinmen (é‡‘é–€)</a>
                        <a href="/search_by_city/matsu" class="city-btn">Matsu (é¦¬ç¥–)</a>
                    </div>
                </div>

                <div class="island-separator">
                    <span class="separator-label">Islands affiliated with other counties</span>
                </div>

                <div style="display:flex; flex-wrap:wrap; gap:15px; justify-content:center;">
                    <a href="/search_by_city/pingtung/pt-07" class="city-btn">Xiao Liuqiu (å°ç‰çƒ)</a> 
                    <a href="/search_by_city/taitung/tt-07" class="city-btn">Green Island (ç¶ å³¶)</a>   
                    <a href="/search_by_city/taitung/tt-08" class="city-btn">Orchid Island (è˜­å¶¼)</a>  
                    <a href="/search_by_city/yilan/yl-07" class="city-btn">Guishan Island (é¾œå±±å³¶)</a> 
                    <a href="/search_by_city/keelung/kl-05" class="city-btn">Keelung Islet (åŸºéš†å¶¼)</a>
                </div>

            </div>
        </div>

    </section>

    <%- include('../partials/footer') %>

    <div id="factModal" class="fact-modal">
        <div class="fact-card">
            <div class="fact-close" id="closeFactBtn">&times;</div>
            <div class="fact-header">
                <span class="fact-tag">Historical Paradox</span>
                <h2 class="fact-title">Wait, my ID card says "Fujian Province, Republic of China"?</h2>
            </div>
            <div class="fact-body">
                <p>If you check the ID card of a resident from Kinmen or Matsu, youâ€™ll notice a startling detail: the place of issuance isn't "Taiwan Province," but rather <strong>"Fujian Province, Republic of China."</strong></p>
                <p>This detail hides a heavy history. When the R.O.C. government retreated to Taiwan in 1949, it maintained the administrative structure of "Fujian Province" (covering Kinmen and Matsu) to assert its legitimacy over the mainland. Despite the rise of Taiwanese self-determination movements and calls to amend the constitution to reflect reality, this title remainsâ€”a frozen relic of a political stalemate.</p>
                <h3>The Exclusive "Kinmen-Matsu Permit"</h3>
                <p>Beyond the ID card, residents hold a unique travel visa to China. Those registered in Kinmen or Matsu for over six months can apply for a special <strong>"Kinmen-Matsu Permit."</strong></p>
                <p>Due to the "Mini-Three Links" agreement, this permit allows residents to take a 30-minute ferry ride directly to China. For locals, popping over to China for dinner or shopping is often faster than traveling to Taipei!</p>
                <h3>The Conflict of Identity</h3>
                <div class="fact-highlight">
                    "On the map, they are miles apart; in the heart, the distance is even more intriguing."
                </div>
                <p>This creates a fascinating phenomenon among the younger generation. When traveling abroad, they unhesitatingly identify as <strong>"Taiwanese."</strong> Yet, back home, holding an ID card printed with "Fujian Province" serves as a constant reminder of a historical destiny distinct from the main island of Taiwan.</p>
            </div>
        </div>
    </div>

    <script src="/script.js"></script>
    <script>
        const openFactBtn = document.getElementById('openFactBtn');
        const closeFactBtn = document.getElementById('closeFactBtn');
        const factModal = document.getElementById('factModal');

        if(openFactBtn && factModal) {
            openFactBtn.addEventListener('click', () => {
                factModal.style.display = 'flex';
                setTimeout(() => factModal.classList.add('show'), 10);
                document.body.style.overflow = 'hidden';
            });
            function closeFact() {
                factModal.classList.remove('show');
                setTimeout(() => {
                    factModal.style.display = 'none';
                    document.body.style.overflow = '';
                }, 300);
            }
            closeFactBtn.addEventListener('click', closeFact);
            factModal.addEventListener('click', (e) => {
                if (e.target === factModal) closeFact();
            });
        }
    </script>

</body>
</html>